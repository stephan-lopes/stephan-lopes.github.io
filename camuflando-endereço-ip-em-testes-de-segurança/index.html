<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name=viewport content="width=device-width, initial-scale=1"> <meta name=author content="K."> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Camuflando Endereço IP em Testes de Segurança | K.</title> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="Camuflando Endereço IP em Testes de Segurança" /> <meta name="author" content="keven" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Neste artigo, conto um pouco da minha experiência com o teste de duas ferramentas que podem ser usadas para camuflar seu endereço IP em testes de segurança. Espero que gostem do artigo, e que ele inspire a utilizar ambas as ferramentas em seus testes." /> <meta property="og:description" content="Neste artigo, conto um pouco da minha experiência com o teste de duas ferramentas que podem ser usadas para camuflar seu endereço IP em testes de segurança. Espero que gostem do artigo, e que ele inspire a utilizar ambas as ferramentas em seus testes." /> <link rel="canonical" href="https://stephan-lopes.github.io/blog/camuflando-endere%C3%A7o-ip-em-testes-de-seguran%C3%A7a/" /> <meta property="og:url" content="https://stephan-lopes.github.io/blog/camuflando-endere%C3%A7o-ip-em-testes-de-seguran%C3%A7a/" /> <meta property="og:site_name" content="K." /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-05-18T00:01:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Camuflando Endereço IP em Testes de Segurança" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"keven"},"dateModified":"2020-05-18T00:01:00+00:00","datePublished":"2020-05-18T00:01:00+00:00","description":"Neste artigo, conto um pouco da minha experiência com o teste de duas ferramentas que podem ser usadas para camuflar seu endereço IP em testes de segurança. Espero que gostem do artigo, e que ele inspire a utilizar ambas as ferramentas em seus testes.","headline":"Camuflando Endereço IP em Testes de Segurança","mainEntityOfPage":{"@type":"WebPage","@id":"https://stephan-lopes.github.io/blog/camuflando-endere%C3%A7o-ip-em-testes-de-seguran%C3%A7a/"},"url":"https://stephan-lopes.github.io/blog/camuflando-endere%C3%A7o-ip-em-testes-de-seguran%C3%A7a/"}</script> <!-- End Jekyll SEO tag --> <!-- <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-57x57.png" /> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-114x114.png" /> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-72x72.png" /> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-144x144.png" /> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-60x60.png" /> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-120x120.png" /> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-76x76.png" /> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-152x152.png" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-196x196.png" sizes="196x196" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-96x96.png" sizes="96x96" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-32x32.png" sizes="32x32" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-16x16.png" sizes="16x16" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-128.png" sizes="128x128" /> <meta name="application-name" content="&nbsp;"/> <meta name="msapplication-TileColor" content="#FFFFFF" /> <meta name="msapplication-TileImage" content="mstile-144x144.png" /> <meta name="msapplication-square70x70logo" content="mstile-70x70.png" /> <meta name="msapplication-square150x150logo" content="mstile-150x150.png" /> <meta name="msapplication-wide310x150logo" content="mstile-310x150.png" /> <meta name="msapplication-square310x310logo" content="mstile-310x310.png" /> --> <link rel="shortcut icon" href="https://stephan-lopes.github.io/assets/images/favicon/skull.svg" type="image/x-icon"> <link rel="canonical" href="https://stephan-lopes.github.io/camuflando-endere%C3%A7o-ip-em-testes-de-seguran%C3%A7a/"> <link rel="alternate" type="application/rss+xml" title="K." href="https://stephan-lopes.github.io/feed.xml" /> <script src="https://kit.fontawesome.com/d9b09040a7.js" crossorigin="anonymous"></script> <style> /*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}.highlight .hll{background-color:#272822}.highlight .c{color:#75715e}.highlight .err{color:#960050;background-color:#1e0010}.highlight .k{color:#66d9ef}.highlight .l{color:#ae81ff}.highlight .n{color:#f8f8f2}.highlight .o{color:#f92672}.highlight .p{color:#f8f8f2}.highlight .cm{color:#75715e}.highlight .cp{color:#75715e}.highlight .c1{color:#75715e}.highlight .cs{color:#75715e}.highlight .ge{font-style:italic}.highlight .gs{font-weight:bold}.highlight .kc{color:#66d9ef}.highlight .kd{color:#66d9ef}.highlight .kn{color:#f92672}.highlight .kp{color:#66d9ef}.highlight .kr{color:#66d9ef}.highlight .kt{color:#66d9ef}.highlight .ld{color:#e6db74}.highlight .m{color:#ae81ff}.highlight .s{color:#e6db74}.highlight .na{color:#a6e22e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#a6e22e}.highlight .no{color:#66d9ef}.highlight .nd{color:#a6e22e}.highlight .ni{color:#f8f8f2}.highlight .ne{color:#a6e22e}.highlight .nf{color:#a6e22e}.highlight .nl{color:#f8f8f2}.highlight .nn{color:#f8f8f2}.highlight .nx{color:#a6e22e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f92672}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f92672}.highlight .w{color:#f8f8f2}.highlight .mf{color:#ae81ff}.highlight .mh{color:#ae81ff}.highlight .mi{color:#ae81ff}.highlight .mo{color:#ae81ff}.highlight .sb{color:#e6db74}.highlight .sc{color:#e6db74}.highlight .sd{color:#e6db74}.highlight .s2{color:#e6db74}.highlight .se{color:#ae81ff}.highlight .sh{color:#e6db74}.highlight .si{color:#e6db74}.highlight .sx{color:#e6db74}.highlight .sr{color:#e6db74}.highlight .s1{color:#e6db74}.highlight .ss{color:#e6db74}.highlight .bp{color:#f8f8f2}.highlight .vc{color:#f8f8f2}.highlight .vg{color:#f8f8f2}.highlight .vi{color:#f8f8f2}.highlight .il{color:#ae81ff}.highlight .gu{color:#75715e}.highlight .gd{color:#f92672}.highlight .gi{color:#a6e22e}body,html{font-size:62.5%}body{font:16px "Helvetica Neue",Helvetica,Arial,sans-serif;color:#aaa;background:#000}h1,h2,h3,h4{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;color:#ededed;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}h1{font-size:3rem;letter-spacing:-1px;color:#ededed;font-weight:700}h2{font-size:2.2rem}h3{font-size:2rem}h4{font-size:1.6rem}a{color:#9300ff;text-decoration:underline;font-weight:400}p{line-height:1.7;color:#aaa;font-weight:300;margin-bottom:20px;letter-spacing:.4px}@media only screen and (max-width: 400px){p{letter-spacing:.2px}}strong{font-weight:400;color:#fff}ul li,ol li{line-height:2.4rem;font-weight:300;color:#aaa}img,pre,iframe{max-width:100%}img,pre{border-radius:4px}figcaption{position:relative;top:-20px;left:0;right:0;margin:0 auto;width:100%;text-align:center;font-size:1.3rem;color:#666;font-weight:300}@media only screen and (max-width: 400px){figcaption{font-size:1.2rem}}blockquote{padding-left:15px;border-left:3px solid #eee}hr{border:none;height:1px;margin:40px auto;background:#eee;width:100%}figure.highlight{width:100%;margin:0}code{padding:2px 3px;font-family:"Consolas",Liberation Mono,Menlo,Courier,monospace;font-size:12px;vertical-align:middle;background:#eee;border-radius:2px}pre>code,tt{padding:1px 0;font-family:"Consolas",Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;background:#000;border-radius:2px}pre{box-sizing:border-box;margin:0 0 1.75em 0;width:100%;padding:5px 10px;font-family:"Consolas",Liberation Mono,Menlo,Courier,monospace;font-size:1.2rem;line-height:2rem;overflow:auto;background:#000;border:1px solid #222;border-radius:2px}.wrapper-normal,.wrapper-large{height:100%;width:96%;margin:0 auto}@media only screen and (max-width: 400px){.wrapper-normal,.wrapper-large{width:88%}}@media only screen and (min-width: 400px) and (max-width: 1050px){.wrapper-normal,.wrapper-large{width:88%}}.wrapper-normal{max-width:560px}.wrapper-large{max-width:810px}.text-center{text-align:center}.clearfix:before,.clearfix:after{content:"";display:table}.clearfix:after{clear:both}.animated{animation:fade-in-down .6s;animation-delay:.3s;animation-fill-mode:both}@keyframes fade-in-down{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}.home,.blog,.projects{margin-top:125px}.home>.list,.blog>.list,.projects>.list{border-top:1px solid #222;margin-top:30px;padding-top:40px;position:relative}.home>.list:before,.blog>.list:before,.projects>.list:before{display:block;content:" ";width:7px;height:7px;border:#222 1px solid;position:absolute;top:-5px;left:50%;margin-left:-5px;background:#000;box-shadow:#000 0 0 0 5px;border-radius:3px}.home>.list>.item,.blog>.list>.item,.projects>.list>.item{display:block;width:95%;margin:0 auto}.home>.list>.item>.url,.blog>.list>.item>.url,.projects>.list>.item>.url{width:100%;display:block;padding:20px 0;text-decoration:none}.home>.list>.item>.url>.title,.blog>.list>.item>.url>.title,.projects>.list>.item>.url>.title{margin:0;width:75%;font-weight:500;transition:all ease-in-out .2s}.home>.list>.item:hover>.url>.title,.blog>.list>.item:hover>.url>.title,.projects>.list>.item:hover>.url>.title{color:#9300ff}.home>.list aside,.blog>.list aside,.projects>.list aside{position:relative;top:2px;margin:0;width:25%;float:right;font-weight:300;color:#666;text-align:right;transition:all ease-in-out .2s}.home>.list .item:hover .url aside,.blog>.list .item:hover .url aside,.projects>.list .item:hover .url aside{color:#aaa}.blog>.list>.item>.url>.title,.projects>.list>.item>.url>.title{display:inline}.blog>.list>.item>.url>.emoji,.projects>.list>.item>.url>.emoji{display:inline;position:relative;top:-4px;margin-right:10px}.page{margin-top:125px}.page>h1{text-align:center;margin-bottom:6rem}.about img{width:50%;margin:0 auto;display:block}.post{margin-top:125px}.post>.title{text-align:center;margin-bottom:3rem}.post>.date,.post>.post-tags{color:#666;font-weight:400;font-size:1.4rem;text-transform:uppercase;text-align:center;display:block;margin-bottom:6rem;letter-spacing:1px;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}.post>.date{margin-bottom:2rem}.post>.post-tags>.item{padding:2px 8px;border-radius:3px;font-size:1.1rem;background:#222;color:#aaa;letter-spacing:1px;margin:3px 1px;text-decoration:none;display:inline-block}.post>h2,.post>h3,.post>h4{margin-top:40px}.post>h2 a,.post>h3 a,.post>h4 a{text-decoration:none}.post>.title-image{max-height:120px;display:block;margin:0 auto}.post>.blog-navigation{font-size:1.4rem;display:block;width:auto;overflow:hidden}.post>.blog-navigation a{display:block;width:50%;float:left;margin:1em 0}.post>.blog-navigation .next{text-align:right}.tags{margin-top:125px}.tags>.list{border-top:1px solid #222;margin-top:30px;padding-top:40px;position:relative}.tags>.list:before{display:block;content:" ";width:7px;height:7px;border:#222 1px solid;position:absolute;top:-5px;left:50%;margin-left:-5px;background:#000;box-shadow:#000 0 0 0 5px;border-radius:3px}.tags>.list>.item{font-weight:300;text-transform:uppercase;text-align:center;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;padding:3px 9px;border-radius:3px;font-size:1.3rem;background:#222;color:#aaa;letter-spacing:1px;margin:0 .5rem 1rem;text-decoration:none;display:inline-block}.tag-list>.list{padding:0}.tag-list>.list>.item{display:block;width:80%;margin:0 10%}.tag-list>.list>.item>.url{width:100%;height:100%;display:block;padding:20px 0;text-decoration:none}.tag-list>.list>.item>.url>.title{margin:0;width:75%;font-weight:400;transition:all ease-in-out .2s;font-size:1.6rem}.tag-list>.list>.item:hover>.url>.title{color:#9300ff}.tag-list>.list aside{position:relative;top:2px;margin:0;width:25%;float:right;font-weight:300;color:#666;text-align:right;transition:all ease-in-out .2s;font-size:1.6rem}.tag-list>.list .item:hover .url aside{color:#aaa}.author{padding:3rem 0;border-bottom:1px solid #222;border-top:1px solid #222;max-width:100%;margin:4rem auto 0}.author>.toleft>.selfie{width:90%;border-radius:100%}.author>.toright>.name,.author>.toright>.bio{width:60%;display:inline-block}.author>.toright>.name{font-size:1.5rem;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:500;margin:6px 0 0}@media only screen and (max-width: 400px){.author>.toright>.name{width:100%;display:block}}@media only screen and (min-width: 400px) and (max-width: 1050px){.author>.toright>.name{width:100%;display:block}}.author>.toright>.bio{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;color:#666;font-size:1.3rem;text-align:justify;line-height:1.5;margin:0}@media only screen and (max-width: 400px){.author>.toright>.bio{width:100%;display:block}}@media only screen and (min-width: 400px) and (max-width: 1050px){.author>.toright>.bio{width:100%;display:block}}.author>.toleft{width:10%;display:inline-block}@media only screen and (max-width: 400px){.author>.toleft{width:20%}}@media only screen and (min-width: 400px) and (max-width: 1050px){.author>.toleft{width:20%}}.author>.toright{width:89%;display:inline-block;vertical-align:top}@media only screen and (max-width: 400px){.author>.toright{width:78%}}@media only screen and (min-width: 400px) and (max-width: 1050px){.author>.toright{width:78%}}.no-disqus{border-bottom:none;padding-bottom:0}.disqus{margin:0 auto;max-width:100%;padding:40px 0}.footer-main{border-top:1px solid #222;padding:40px 0;margin:40px 0 0;font-size:1.3rem;color:#666;font-weight:400;text-align:center;position:relative}.footer-main:before{display:block;content:" ";width:7px;height:7px;border:#222 1px solid;position:absolute;top:-5px;left:50%;margin-left:-5px;background:#000;box-shadow:#000 0 0 0 5px;border-radius:3px}.footer-main>.copyright{padding-left:10px}.footer-main>.link{display:inline;vertical-align:middle}.footer-main>.link>.icon{width:15px !important;fill:#666 !important;transition:ease-in-out all .3s;position:relative;display:inherit;top:-2px;margin:0;left:2px}.footer-main>.link>.icon:hover{fill:#9300ff !important}.footer-main>.extra{color:#666;margin-top:0;font-weight:400}.footer-main>.extra>.link{color:#ededed;text-decoration:none;border-bottom:1px solid transparent;transition:ease-in-out all .3s;padding-bottom:1px;font-weight:300}.footer-main>.extra>.link:hover{border-color:#666}.header-home{display:block;margin:0 auto;text-align:center;position:relative;z-index:99}.header-home>.link>.selfie{width:125px;height:125px;margin-bottom:25px;border-radius:100%;transition:all .2s;opacity:1}.header-home>.link>.selfie:hover{box-shadow:0 0px 4px 0 rgba(0,0,0,0.18),0 0px 12px 0 rgba(0,0,0,0.15);opacity:.8}.header-home>.title{font-size:4rem;margin:0 0 13px}.header-home>.description{font-size:1.85rem;font-weight:400;font-style:normal;color:#666;width:70%;margin:0 auto 30px}.header-home>.description a{font-weight:200}.nav>.list,.nav-home>.list{list-style:none;margin:0;padding:0 13px 0}.nav>.list>.item,.nav-home>.list>.item{display:inline-block}.nav>.list>.item>.link,.nav-home>.list>.item>.link{display:inline-block;font-weight:400;font-size:1.4rem;padding:20px 10px;text-decoration:none}.nav{position:absolute;right:0;top:0}.nav>.list{padding:0 13px 0}.nav>.list>.item>.link{font-size:1.4rem;padding:20px 10px}.nav-home{margin-top:40px;text-align:center}.nav-home>.list{padding:0}.nav-home>.list>.item>.link{font-size:2rem;padding:7px 15px;margin:0;border-radius:4%;transition:all .4s ease-in-out;width:70px}.nav-home>.list>.item>.link:hover{color:#aaa}.evidence{background-image:linear-gradient(to bottom, #1E2D24, #1E2D24);color:#ededed}.star>.url>.title{width:auto !important;display:inline;background-image:linear-gradient(#1E2D24, #1E2D24)}.twitter-tweet{margin:10px auto}.icon{display:inline-block;width:17px;height:17px;fill:#fff;text-align:center;color:#666;margin:7px auto}.caption{position:relative;top:1rem;left:0;right:0;margin:0 auto;width:100%;text-align:center;font-size:1.3rem;font-weight:400}.bigger-image{min-width:130%;margin:5rem 0 5rem -15%}@media only screen and (max-width: 400px){.bigger-image{min-width:114%;margin:2rem 0 2rem -7%}}@media only screen and (min-width: 400px) and (max-width: 1050px){.bigger-image{min-width:114%;margin:2rem 0 2rem -7%}}.breaker{height:1px;margin:6rem auto;width:100%}.breaker:before{content:"• • •";width:100%;text-align:center;display:block;color:#666;letter-spacing:4px;position:relative;top:-8px}.lost-container{text-align:center}.pagination{width:95%;margin:3rem auto 0;text-align:center}.pagination>.page_number{display:inline-block;font-size:1.3rem}.pagination>.previous,.pagination>.next{display:inline-block;font-size:1.8rem;position:relative;top:1px;padding:1px 9px}.pagination>.hidden{visibility:hidden}.related{margin:10rem 0 0rem}.related a{font-weight:400}.share{float:right;width:40%;display:inline;text-align:right;position:relative}@media only screen and (max-width: 400px){.share{width:100%;display:block;top:0;text-align:left;float:none;margin-top:5px}}@media only screen and (min-width: 400px) and (max-width: 1050px){.share{width:100%;display:block;top:0;text-align:left;float:none;margin-top:5px}}.share>.twitter,.share>.facebook,.share>.linkedin{display:inline;vertical-align:middle;font-size:13px;font-weight:700;color:#fff;padding:6px 10px;border-radius:3px;margin-left:5px;text-decoration:none}@media only screen and (max-width: 400px){.share>.twitter,.share>.facebook,.share>.linkedin{margin:0 5px 10px 0}}@media only screen and (min-width: 400px) and (max-width: 1050px){.share>.twitter,.share>.facebook,.share>.linkedin{margin:0 5px 10px 0}}.share>.twitter{background:#4fafed}.share>.facebook{background:#4361b3}.share>.linkedin{background:#0077b5}.share svg{fill:#000;position:relative;top:0;margin:0;margin-right:4px;display:inherit}@media only screen and (min-width: 780px){.side-by-side{width:130%;margin:6rem 0 6rem -15%}}@media only screen and (max-width: 780px){.side-by-side{width:100%;margin:4rem 0}}.side-by-side>.toleft,.side-by-side>.toright{display:inline-block;width:47.5%}@media only screen and (max-width: 780px){.side-by-side>.toleft img,.side-by-side>.toright img{text-align:center;display:block;margin:0 auto}}@media only screen and (min-width: 780px){.side-by-side>.toleft{margin-right:2%}}@media only screen and (max-width: 780px){.side-by-side>.toleft{width:100%;margin:0 0 4rem 0}}@media only screen and (min-width: 780px){.side-by-side>.toright{margin-left:2%;vertical-align:top}}@media only screen and (max-width: 780px){.side-by-side>.toright{width:100%;margin:0 0 4rem 0}}.side-by-side>.toleft>p,.side-by-side>.toright>p{margin:0 0 4rem 0}@media only screen and (max-width: 780px){.side-by-side>.toleft>p,.side-by-side>.toright>p{margin:0}}.social-links>.link{margin:0;text-decoration:none;position:relative;display:inline-block;height:35px;width:35px;color:#fff}.social-links>.link:hover>svg{color:#9300ff}.social-links>svg{transition:all ease-in-out .2s}.spoiler{position:relative}.spoiler:before{content:"";background-color:#fafae0;position:absolute;top:0;bottom:0;left:0;right:0;z-index:50}.spoiler:hover:before{display:none} </style> </head> <body> <div class="wrapper-large"> <div class="post"> <nav class="nav"> <ul class="list"> <li class="item"> <a class="link" href="https://stephan-lopes.github.io/">Home</a> </li> <li class="item"> <a class="link" href="https://stephan-lopes.github.io/blog">Blog</a> </li> <li class="item"> <a class="link" href="https://stephan-lopes.github.io/projects">Projects</a> </li> <li class="item"> <a class="link" href="https://stephan-lopes.github.io/about">About</a> </li> </ul> </nav> <h1 class="title">Camuflando Endereço IP em Testes de Segurança</h1> <span class="date"> <time datetime="18-05-2020">Monday. May 18, 2020</time> - <span class="reading-time" title="Estimated read time"> 11 mins </span> </span> <div class="post-tags"> <a class="item" href="https://stephan-lopes.github.io/tags/#anonsurf">anonsurf</a> <a class="item" href="https://stephan-lopes.github.io/tags/#protonvpn">protonvpn</a> <a class="item" href="https://stephan-lopes.github.io/tags/#security">security</a> </div> <h2 id="introdução">Introdução</h2> <p>Recentemente, estava procurando formas de camuflar o endereço IP, sem utilizar Whonix + Tor, ou Proxychains + Tor, que são dois métodos que podem ser utilizados para este objetivo. Estava vendo formas alternativas, devido a ambos os métodos, apesar de possuírem uma forma de camuflar o IP utilizando-se da rede Tor, acabam obrigando a fazer uma série de configurações (Whonix, por exemplo, precisa ser usado dentro de uma Maquina Virtual, e dependendo do uso, precisa ser configurado como Gateway), ou possuem algumas limitações (Proxychains, permite apenas abrir programas utilizando-se desse beneficio de utilizar o IP da rede Tor por padrão. E mesmo assim, ele acaba também limitando a funcionalidade de alguns programas).</p> <p>Dessa forma, procurando, achei duas alternativas: uma não muito usual, utilizando VPNs do ProtonVPN, e outra mais fácil de se utilizar em testes de segurança, e também mais conhecida, utilizando a rede Tor para essa finalidade.</p> <p>A seguir, estarei mostrando essas duas alternativas, assim como os testes realizados com ambas. Estarei disponibilizando no final do artigo, o endereço do repositório no GitHub, onde contêm o arquivo Vagrantfile, para caso queira realizar os testes em seu computador.</p> <h2 id="protonvpn">ProtonVPN</h2> <p>Uma das alternativa, é a utilização de uma VPN. Pode ser de qualquer provedor de VPN. Nesse artigo, me limito ao provedor ProtonVPN em sua versão gratuita, por conta da ferramenta que mostrarei logo em seguida. Lembrando que o artigo destina-se a testes de segurança autorizados (legalizados). Deixo bem claro isso, pois, utilizar esse método, gera rastro do seu IP real na VPN. Entretanto, a utilização da VPN, possibilita camuflar seu IP real em um ataque autorizado.</p> <h3 id="configuração-e-utilização">Configuração e Utilização</h3> <p>Para utilizar a alternativa acima, é necessário antes de tudo, que crie uma conta no site da ProtonVPN. Eles possuem alguns planos disponíveis, que vão de acordo com sua necessidade. Foi utilizada a versão gratuita para os testes.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589602859223.png" alt="Imagem" /></p> <p>Após a criação e autenticação da conta, será necessário efetuar download do cliente para o sistema operacional em que deseja utilizá-lo. No caso desse artigo, foi utilizado o cliente para GNU/Linux, para distribuições Debian.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589648362557.png" alt="Imagem" /></p> <p>Quando tiver terminado a instalação, é necessário efetuar configurações no cliente instalado. Para isso, digite no terminal:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>protonvpn init</code></pre></figure> <p>Com isso, você precisará entrar com as credenciais de acesso fornecidas na página de <strong>Conta</strong>, na seção de <strong>Nome de Usuário OpenVPN / IKEv2</strong>. Ele irá pedir para escolher um plano.</p> <p>Como o cliente não me impediu de escolher, escolhi o plano Visionary, mesmo tendo o plano Free. Além disso, escolhi o protocolo UDP, entretanto, posteriormente durante os testes, mudei para TCP. Após isso, sua VPN já está configurada.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589649797942.png" alt="Imagem" /></p> <p>Para conectar a VPN, basta digitar no terminal:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>protonvpn connect</code></pre></figure> <p>Então, serão dadas alguma opções, onde você poderá escolher a localidade, bem como, em qual servidor que deseja entrar.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589650323119.png" alt="Imagem" /></p> <p>Fiz um teste, utilizando a ferramenta curl, onde verifiquei o meu endereço IP antes e depois de conectar na vpn. Criei um alias para ele em meu ~/.bashrc, chamado <strong>myip</strong>. Durante o artigo, quando ver esse comando digitado no terminal, saiba que ele apenas executa o comando abaixo:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell">curl http://ipecho.net/plain<span class="p">;</span> <span class="nb">echo</span></code></pre></figure> <p>A imagem abaixo, mostra que se conectou a VPN</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589651318732.png" alt="Imagem" /></p> <h3 id="utilizando-em-testes-de-segurança-em-aplicações">Utilizando em Testes de Segurança em Aplicações</h3> <p>Com tudo configurado, modifiquei alguns parâmetros para testar sua funcionalidade em uma simulação de um ambientes real. Durante o <em>protonvpn connect</em>, selecionei a opção de fazer a conexão via TCP ao invés de UDP. Não vou me atentar a explicar o motivo em detalhes, mas como foi simulado um ataque de tentativas de login em um servidor SSH, o método de conexão que precisava ser utilizado no ProtonVPN seria TCP.</p> <p>Criei uma instância de VM no GCP, com uma imagem Ubuntu 16.04 LTS. Por padrão, a máquina já vem com algumas configurações do SSHGuard, que é quem vai escutar o arquivo de log, auth.log, e bloquear o endereço IP após algumas tentativas erradas de acesso. Como deixei a configuração por padrão, duas tentativas já são suficientes para bloquear o endereço IP no firewall.</p> <p>O resultado do teste foi que, após duas tentativas erradas de acesso, ele bloqueou o endereço IP e na terceira tentativa, recebeu timeout. Isso aconteceu, por uma regra ter sido adicionada no Firewall pelo SSHGuard. Em outras palavras, ele não muda automaticamente o seu endereço IP, em casos de bloqueio pelo host, tendo que fazê-lo manualmente.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589656445456.png" alt="Imagem" /></p> <p>Para mudar seu endereço IP manualmente, e randomicamente, sem ter que selecionar na lista, como feito anteriormente, basta executar o comando abaixo:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>protonvpn connect <span class="nt">-r</span> <span class="nt">-p</span> tcp</code></pre></figure> <p>Fazendo isso, você terá um novo endereço IP, ao qual poderá continuar com seus testes de segurança, sem ter que expor seu endereço de IP real.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589657377377.png" alt="Imagem" /></p> <h3 id="gerando-novo-endereço-ip-a-cada-10-segundos">Gerando novo endereço IP a cada 10 segundos</h3> <p>Talvez você se pergunte: “E se eu quiser automatizar essa mudança, e ficar, constantemente, mudando o endereço IP? Como eu poderia fazer isso?”. Existe uma ferramenta chamada IPChange. Ela faz isso de forma automatizada, utilizando ProtonVPN, tendo que apenas especificar o tempo que deseja que seja renovado o endereço IP. O repositório do GitHub para ela, encontra-se no final do artigo.</p> <p>Não vou entrar em detalhes em como a ferramenta funciona, nem em seu uso. Estarei mostrando a seguir como fazer isso sem essa ferramenta, e deixando como um processo em segundo plano.</p> <p>O comando abaixo, faz isso de forma automatizada, tendo apenas que mudar o tempo (em segundos) após o comando sleep. Isso se quiser alterar o tempo entre as mudanças de endereço IP:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="k">while</span> :<span class="p">;</span> <span class="k">do </span><span class="nb">sudo </span>protonvpn connect <span class="nt">-r</span> <span class="nt">-p</span> tcp<span class="p">;</span> <span class="nb">sleep </span>10<span class="p">;</span> <span class="k">done</span> &amp;&gt;/dev/null &amp; <span class="nb">alias </span><span class="nv">killchange</span><span class="o">=</span><span class="s2">"kill -9 </span><span class="nv">$!</span><span class="s2">"</span></code></pre></figure> <p>Caso queira parar o processo, basta digital killchange:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell">killchange</code></pre></figure> <p>Porém, temos um problema. O processo de buscar um novo endereço de IP na ProtonVPN, acontece da seguinte forma: Você está utilizando o endereço IP “X” da VPN, e solicita para mudar de endereço IP. Então, o cliente do ProtonVPN desconecta você, fazendo-o voltar ao seu IP real. Logo em seguida, ele tenta se conectar a outra localidade. E quando conectado, lhe entrega para uso, o endereço IP “Y”.</p> <p>Talvez se pergunte: “Qual o problema do que foi descrito acima?”. O problema consiste em que, você fica um período de tempo, mesmo que muito curto, com seu endereço IP real. Em um teste de segurança, por exemplo, isso pode acabar gerando logs com seu endereço IP real, fazendo o uso da ferramenta, desnecessário, caso não queira que isso aconteça. O tempo em que você volta para o seu IP real até se conectar novamente na VPN, consiste no seguinte cálculo:</p> <blockquote> <h4 id="tempo-com-endereço-ip-real--tempo-de-desconexão--tempo-de-conexão"><em>(Tempo com endereço IP real) = (Tempo de Desconexão) + (Tempo de Conexão).</em></h4> </blockquote> <p>Executei no terminal, um comando, para que continuamente, verificasse o endereço IP. Quando ele “travava”, eu sabia que era por conta de o comando myip ter sido executado na troca de IP. Por isso, eu acabei parando e executando-o novamente. Na imagem abaixo, mostro isso e, descrevo qual é o endereço IP da VPN e qual é o endereço IP real.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589662844516.png" alt="Imagem" /></p> <p>Sendo assim, é necessária uma boa conexão, e se atentar para esse problema sabendo que ele pode acontecer. Colocar um tempo maior no comando <em>sleep</em>, e utilizar o endereço IP com menos frequência durante um ataque, são algumas alternativas que podem ajudar a contornar esse problema.</p> <h2 id="anonsurf">AnonSurf</h2> <p>A outra alternativa, seria o AnonSurf. Essa alternativa é popular, por conta de seu uso em distribuições como Kali Linux e Parrot OS. Você pode ver mais sobre o uso da ferramenta e suas outras formas de configuração, no repositório, que estará também no final do artigo.</p> <h3 id="configuração-e-utilização-1">Configuração e Utilização</h3> <p>Para configurar, é bem simples: basta clonar o repositório, entrar dentro do diretório e executar o script chamado installer.sh, que irá realizar todo o processo de instalação para você.</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell">git clone https://github.com/Und3rf10w/kali-anonsurf <span class="o">&amp;&amp;</span> <span class="nb">cd </span>kali-anonsurf <span class="o">&amp;&amp;</span> <span class="nb">sudo</span> ./installer.sh</code></pre></figure> <p>Pronto, o AnonSurf já está instalado! Caso deseja verificar se foi instalado corretamente, digite no terminal:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>anonsurf</code></pre></figure> <p>Caso apresente algumas informações, como na imagem abaixo, ele foi instalado corretamente.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589664813662.png" alt="Imagem" /></p> <p>Para iniciar o serviço, digite:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>anonsurf start</code></pre></figure> <p>Após isso, acontecerá a conexão:</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589665078436.png" alt="Imagem" /></p> <h3 id="utilizando-em-testes-de-segurança-em-aplicações-1">Utilizando em Testes de Segurança em Aplicações</h3> <p>Após iniciado e em execução, realizei o mesmo teste que fiz com o ProtonVPN. Em outra máquina do GCP, fiz autenticações inválidas na porta 22 (SSH), na expectativa de que também fizesse o bloqueio do endereço IP. Entretanto, me surpreendi. Após algumas tentativas, notei que quando o endereço IP era bloqueado, o AnonSurf, de alguma forma, “reconhecia” esse fato, e alterava o endereço IP automaticamente.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589763982157.png" alt="Imagem" /></p> <p>Dessa forma, não é necessário ficar alterando o endereço IP manualmente durante um ataque, mesmo sendo possível fazer isso. Como reduzi o escopo dos testes, em um ataque de autenticação de em um servidor SSH, é dificil dizer que terá o mesmo resultado em outros tipos de ataque.</p> <p>Caso deseje mudar manualmente o endereço IP, basta digitar o seguinte comando:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>anonsurf change</code></pre></figure> <p>Dessa forma, você terá um novo endereço IP, ao qual poderá utilizar em seus testes.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589764477776.png" alt="Imagem" /></p> <h3 id="gerando-novo-endereço-ip-a-cada-10-segundos-1">Gerando novo endereço IP a cada 10 segundos</h3> <p>Diferente do ProtonVPN, desconheço de algum script, que faça isso para você, como o IPChange faz para o ProtonVPN. Entretanto, o mesmo código (com algumas alterações), utilizado no artigo para o ProtonVPN pode ser usado para o AnonSurf.</p> <p>O comando abaixo funciona de forma semelhante de como funcionava com o ProtonVPN:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="k">while</span> :<span class="p">;</span> <span class="k">do </span><span class="nb">sudo </span>anonsurf change<span class="p">;</span> <span class="nb">sleep </span>10<span class="p">;</span> <span class="k">done</span> &amp;&gt;/dev/null &amp; <span class="nb">alias </span><span class="nv">killchange</span><span class="o">=</span><span class="s2">"kill -9 </span><span class="nv">$!</span><span class="s2">"</span></code></pre></figure> <p>Caso queira parar o processo, basta digitar <em>killchange</em>:</p> <figure class="highlight"><pre><code class="language-shell" data-lang="shell">killchange</code></pre></figure> <p>Em meus testes, verifiquei que mesmo com o serviço ligado, não acontecia a mudança tão demorada de IP, como acontece no ProtonVPN. O tempo da desconexão e de conexão é tão rápido, que não consegui notar se o tempo que ficava com o endereço IP real, era o suficiente pra gerar log, ou se então, nem sequer desconectava, mas sim, apenas mudava o endereço IP.</p> <p><img src="https://stephan-lopes.github.io/assets/images/camuflando-endereço-ip-em-testes-de-segurança/1589765488796.png" alt="Imagem" /></p> <p>Isso acaba auxiliando nos testes, em comparação com ProtonVPN, devido que, o mesmo acaba não gerando log com o endereço de IP real durante um ataque. Como a mudança de endereço IP é muito rápida, e não gerando log com seu endereço de IP real, é possível mudar o tempo colocando ele para um tempo abaixo dos 10 segundos.</p> <p>Entretanto, uma coisa que notei durante os testes, foi que durante algumas tentativas de acesso ao servidor SSH o endereço IP que constava no arquivo de log no servidor, não condizia com o endereço IP que listava na minha máquina. Após o bloqueio do primeiro endereço IP pelo servidor, e a mudança automática do mesmo pelo AnonSurf, ele volta a condizer com o endereço IP da máquina nas próximas tentativas de autenticação.</p> <p>Talvez não seja algo a se preocupar, mas fica uma pergunta no ar: “Se o endereço IP não condiz com o que está sendo utilizado na minha máquina, e eu sei que aquela tentativa de login que consta no log do servidor é minha, como pode essa tentativa chegar no servidor com outro endereço IP?”.</p> <h2 id="conclusão">Conclusão</h2> <p>Neste artigo, tive como finalidade mostrar essas duas ferramentas. Elas são alternativas ao Proxychains e Whonix, pra esconder o seu endereço IP real. Não quis me atentar em apenas descrever sobre elas, e dizer suas funcionalidades, mas sim em fazer uma análise dessas duas ferramentas, e em demonstrar tanto o lado positivo, como negativo de ambas, encontrados nos testes.</p> <p>Ambas as ferramentas conseguem auxiliar um profissional de Segurança da Informação em testes de segurança. Elas conseguem esconder o endereço IP real, o que pode ajudar não ser idêntificado em diversos tipos de ataque. Entretanto, cabe ao profissional escolher qual delas cabe melhor ao uso em seus testes de segurança, podendo o mesmo utilizar de outras possibilidades não descritas no artigo.</p> <p>Como limitei o escopo do artigo, muita coisa não foi falada sobre IPChange, sobre funcionalidades do ProtonVPN, e também outros usos do AnonSurf, como por exemplo iniciá-lo junto ao sistema.</p> <hr /> <h2 id="repositórios">Repositórios</h2> <ul> <li>Vagrantfile: <a href="https://github.com/TheSubmitEquals/protonvpn-anonsurf-test">GitHub</a></li> <li>AnonSurf: <a href="https://github.com/Und3rf10w/kali-anonsurf">GitHub</a></li> <li>IPChange: <a href="https://github.com/tuhin1729/IPChange">GitHub</a></li> </ul> <div class="breaker"></div> <div class="blog-navigation"> <a class="prev"></a> <a class="next" href="https://stephan-lopes.github.io/rsyslog-01-configurando-um-servidor-de-log-b%C3%A1sico/">Rsyslog #01: Configurando um Servidor de Log Básico &raquo;</a> </div> <div class="related"> <h4>Related Posts</h4> <ul> <li class="relatedPost"> <a href="https://stephan-lopes.github.io/vagrant-kaspersky-download-de-imagens-sem-perder-a-seguran%C3%A7a/">Vagrant + Kaspersky: Download de Imagens Sem Perder a Segurança </a> </li> </ul> </div> <section class="author"> <div class="toleft"> <img class="selfie" src="https://stephan-lopes.github.io/assets/images/profile-pic.png" alt="Keven S. Lopes" /> </div> <div class="toright"> <h4 class="name">Keven S. Lopes</h4> <p class="bio">Só mais um garoto de TI, querendo aprender, e compartilhar conhecimento.</p> <div class="share"> <!-- Note: Only use three share links if your site width is set to large --> <!-- If site width is set to normal, you may choose any two share links --> <a class="twitter" href="https://twitter.com/intent/tweet?text=https://stephan-lopes.github.io/camuflando-endere%C3%A7o-ip-em-testes-de-seguran%C3%A7a/ - Camuflando Endereço IP em Testes de Segurança by @" > <i class="fa-brands fa-twitter"></i> <span class="icon-twitter">Tweet</span> </a> <a class="facebook" href="javascript:void(0)" onclick="window.open('https://facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href), 'facebook-share-dialog', 'width=626,height=436'); return false;" > <i class="fa-brands fa-facebook"></i> <span class="icon-facebook-rect">Share</span> </a> <!-- <a class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://stephan-lopes.github.io/camuflando-endere%C3%A7o-ip-em-testes-de-seguran%C3%A7a/&amp;title=Camuflando Endereço IP em Testes de Segurança&amp;summary=Neste artigo, conto um pouco da minha experiência com o teste de duas ferramentas que podem ser usadas para camuflar seu endereço IP em testes de segurança. Espero que gostem do artigo, e que ele inspire a utilizar ambas as ferramentas em seus testes.&amp;source=https://stephan-lopes.github.io" target="_blank"> <i class="fa-brands fa-linkedin"></i> <span class="icon-linkedin">Share</span> </a> --> </div> </div> </section> <footer class="footer-main"> K. © 2022 <a class="link" href="https://stephan-lopes.github.io/feed.xml" target="_blank"> <svg class="icon icon-rss"> <use xlink:href="#icon-rss"></use> </svg> </a> <p class="extra"> <a class="link" href="https://github.com/sergiokopplin/indigo">Indigo theme</a> by <a class="link" href="https://github.com/sergiokopplin/indigo">Kopplin</a> </p> </footer> </div> </div> </div> </div> </body> </html>
