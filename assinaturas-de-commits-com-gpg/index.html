<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name=viewport content="width=device-width, initial-scale=1"> <meta name=author content="K."> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Assinatura de Commits com GPG | K.</title> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="Assinatura de Commits com GPG" /> <meta name="author" content="keven" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Como configurar o GPG para assinar commits do Github" /> <meta property="og:description" content="Como configurar o GPG para assinar commits do Github" /> <link rel="canonical" href="https://stephan-lopes.github.io/blog/assinaturas-de-commits-com-gpg/" /> <meta property="og:url" content="https://stephan-lopes.github.io/blog/assinaturas-de-commits-com-gpg/" /> <meta property="og:site_name" content="K." /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2022-04-29T23:00:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Assinatura de Commits com GPG" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"keven"},"dateModified":"2022-04-29T23:00:00+00:00","datePublished":"2022-04-29T23:00:00+00:00","description":"Como configurar o GPG para assinar commits do Github","headline":"Assinatura de Commits com GPG","mainEntityOfPage":{"@type":"WebPage","@id":"https://stephan-lopes.github.io/blog/assinaturas-de-commits-com-gpg/"},"url":"https://stephan-lopes.github.io/blog/assinaturas-de-commits-com-gpg/"}</script> <!-- End Jekyll SEO tag --> <!-- <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-57x57.png" /> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-114x114.png" /> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-72x72.png" /> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-144x144.png" /> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-60x60.png" /> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-120x120.png" /> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-76x76.png" /> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://stephan-lopes.github.io/assets/images/favicon/apple-touch-icon-152x152.png" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-196x196.png" sizes="196x196" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-96x96.png" sizes="96x96" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-32x32.png" sizes="32x32" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-16x16.png" sizes="16x16" /> <link rel="icon" type="image/png" href="https://stephan-lopes.github.io/assets/images/favicon/favicon-128.png" sizes="128x128" /> <meta name="application-name" content="&nbsp;"/> <meta name="msapplication-TileColor" content="#FFFFFF" /> <meta name="msapplication-TileImage" content="mstile-144x144.png" /> <meta name="msapplication-square70x70logo" content="mstile-70x70.png" /> <meta name="msapplication-square150x150logo" content="mstile-150x150.png" /> <meta name="msapplication-wide310x150logo" content="mstile-310x150.png" /> <meta name="msapplication-square310x310logo" content="mstile-310x310.png" /> --> <link rel="shortcut icon" href="https://stephan-lopes.github.io/assets/images/favicon/skull.svg" type="image/x-icon"> <link rel="canonical" href="https://stephan-lopes.github.io/assinaturas-de-commits-com-gpg/"> <link rel="alternate" type="application/rss+xml" title="K." href="https://stephan-lopes.github.io/feed.xml" /> <script src="https://kit.fontawesome.com/d9b09040a7.js" crossorigin="anonymous"></script> <style> /*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}.highlight .hll{background-color:#272822}.highlight .c{color:#75715e}.highlight .err{color:#960050;background-color:#1e0010}.highlight .k{color:#66d9ef}.highlight .l{color:#ae81ff}.highlight .n{color:#f8f8f2}.highlight .o{color:#f92672}.highlight .p{color:#f8f8f2}.highlight .cm{color:#75715e}.highlight .cp{color:#75715e}.highlight .c1{color:#75715e}.highlight .cs{color:#75715e}.highlight .ge{font-style:italic}.highlight .gs{font-weight:bold}.highlight .kc{color:#66d9ef}.highlight .kd{color:#66d9ef}.highlight .kn{color:#f92672}.highlight .kp{color:#66d9ef}.highlight .kr{color:#66d9ef}.highlight .kt{color:#66d9ef}.highlight .ld{color:#e6db74}.highlight .m{color:#ae81ff}.highlight .s{color:#e6db74}.highlight .na{color:#a6e22e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#a6e22e}.highlight .no{color:#66d9ef}.highlight .nd{color:#a6e22e}.highlight .ni{color:#f8f8f2}.highlight .ne{color:#a6e22e}.highlight .nf{color:#a6e22e}.highlight .nl{color:#f8f8f2}.highlight .nn{color:#f8f8f2}.highlight .nx{color:#a6e22e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f92672}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f92672}.highlight .w{color:#f8f8f2}.highlight .mf{color:#ae81ff}.highlight .mh{color:#ae81ff}.highlight .mi{color:#ae81ff}.highlight .mo{color:#ae81ff}.highlight .sb{color:#e6db74}.highlight .sc{color:#e6db74}.highlight .sd{color:#e6db74}.highlight .s2{color:#e6db74}.highlight .se{color:#ae81ff}.highlight .sh{color:#e6db74}.highlight .si{color:#e6db74}.highlight .sx{color:#e6db74}.highlight .sr{color:#e6db74}.highlight .s1{color:#e6db74}.highlight .ss{color:#e6db74}.highlight .bp{color:#f8f8f2}.highlight .vc{color:#f8f8f2}.highlight .vg{color:#f8f8f2}.highlight .vi{color:#f8f8f2}.highlight .il{color:#ae81ff}.highlight .gu{color:#75715e}.highlight .gd{color:#f92672}.highlight .gi{color:#a6e22e}body,html{font-size:62.5%}body{font:16px "Helvetica Neue",Helvetica,Arial,sans-serif;color:#aaa;background:#000}h1,h2,h3,h4{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;color:#ededed;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}h1{font-size:3rem;letter-spacing:-1px;color:#ededed;font-weight:700}h2{font-size:2.2rem}h3{font-size:2rem}h4{font-size:1.6rem}a{color:#9300ff;text-decoration:underline;font-weight:400}p{line-height:1.7;color:#aaa;font-weight:300;margin-bottom:20px;letter-spacing:.4px}@media only screen and (max-width: 400px){p{letter-spacing:.2px}}strong{font-weight:400;color:#fff}ul li,ol li{line-height:2.4rem;font-weight:300;color:#aaa}img,pre,iframe{max-width:100%}img,pre{border-radius:4px}figcaption{position:relative;top:-20px;left:0;right:0;margin:0 auto;width:100%;text-align:center;font-size:1.3rem;color:#666;font-weight:300}@media only screen and (max-width: 400px){figcaption{font-size:1.2rem}}blockquote{padding-left:15px;border-left:3px solid #eee}hr{border:none;height:1px;margin:40px auto;background:#eee;width:100%}figure.highlight{width:100%;margin:0}code{padding:2px 3px;font-family:"Consolas",Liberation Mono,Menlo,Courier,monospace;font-size:12px;vertical-align:middle;background:#eee;border-radius:2px}pre>code,tt{padding:1px 0;font-family:"Consolas",Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;background:#000;border-radius:2px}pre{box-sizing:border-box;margin:0 0 1.75em 0;width:100%;padding:5px 10px;font-family:"Consolas",Liberation Mono,Menlo,Courier,monospace;font-size:1.2rem;line-height:2rem;overflow:auto;background:#000;border:1px solid #222;border-radius:2px}.wrapper-normal,.wrapper-large{height:100%;width:96%;margin:0 auto}@media only screen and (max-width: 400px){.wrapper-normal,.wrapper-large{width:88%}}@media only screen and (min-width: 400px) and (max-width: 1050px){.wrapper-normal,.wrapper-large{width:88%}}.wrapper-normal{max-width:560px}.wrapper-large{max-width:810px}.text-center{text-align:center}.clearfix:before,.clearfix:after{content:"";display:table}.clearfix:after{clear:both}.animated{animation:fade-in-down .6s;animation-delay:.3s;animation-fill-mode:both}@keyframes fade-in-down{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}.home,.blog,.projects{margin-top:125px}.home>.list,.blog>.list,.projects>.list{border-top:1px solid #222;margin-top:30px;padding-top:40px;position:relative}.home>.list:before,.blog>.list:before,.projects>.list:before{display:block;content:" ";width:7px;height:7px;border:#222 1px solid;position:absolute;top:-5px;left:50%;margin-left:-5px;background:#000;box-shadow:#000 0 0 0 5px;border-radius:3px}.home>.list>.item,.blog>.list>.item,.projects>.list>.item{display:block;width:95%;margin:0 auto}.home>.list>.item>.url,.blog>.list>.item>.url,.projects>.list>.item>.url{width:100%;display:block;padding:20px 0;text-decoration:none}.home>.list>.item>.url>.title,.blog>.list>.item>.url>.title,.projects>.list>.item>.url>.title{margin:0;width:75%;font-weight:500;transition:all ease-in-out .2s}.home>.list>.item:hover>.url>.title,.blog>.list>.item:hover>.url>.title,.projects>.list>.item:hover>.url>.title{color:#9300ff}.home>.list aside,.blog>.list aside,.projects>.list aside{position:relative;top:2px;margin:0;width:25%;float:right;font-weight:300;color:#666;text-align:right;transition:all ease-in-out .2s}.home>.list .item:hover .url aside,.blog>.list .item:hover .url aside,.projects>.list .item:hover .url aside{color:#aaa}.blog>.list>.item>.url>.title,.projects>.list>.item>.url>.title{display:inline}.blog>.list>.item>.url>.emoji,.projects>.list>.item>.url>.emoji{display:inline;position:relative;top:-4px;margin-right:10px}.page{margin-top:125px}.page>h1{text-align:center;margin-bottom:6rem}.about img{width:50%;margin:0 auto;display:block}.post{margin-top:125px}.post>.title{text-align:center;margin-bottom:3rem}.post>.date,.post>.post-tags{color:#666;font-weight:400;font-size:1.4rem;text-transform:uppercase;text-align:center;display:block;margin-bottom:6rem;letter-spacing:1px;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}.post>.date{margin-bottom:2rem}.post>.post-tags>.item{padding:2px 8px;border-radius:3px;font-size:1.1rem;background:#222;color:#aaa;letter-spacing:1px;margin:3px 1px;text-decoration:none;display:inline-block}.post>h2,.post>h3,.post>h4{margin-top:40px}.post>h2 a,.post>h3 a,.post>h4 a{text-decoration:none}.post>.title-image{max-height:120px;display:block;margin:0 auto}.post>.blog-navigation{font-size:1.4rem;display:block;width:auto;overflow:hidden}.post>.blog-navigation a{display:block;width:50%;float:left;margin:1em 0}.post>.blog-navigation .next{text-align:right}.tags{margin-top:125px}.tags>.list{border-top:1px solid #222;margin-top:30px;padding-top:40px;position:relative}.tags>.list:before{display:block;content:" ";width:7px;height:7px;border:#222 1px solid;position:absolute;top:-5px;left:50%;margin-left:-5px;background:#000;box-shadow:#000 0 0 0 5px;border-radius:3px}.tags>.list>.item{font-weight:300;text-transform:uppercase;text-align:center;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;padding:3px 9px;border-radius:3px;font-size:1.3rem;background:#222;color:#aaa;letter-spacing:1px;margin:0 .5rem 1rem;text-decoration:none;display:inline-block}.tag-list>.list{padding:0}.tag-list>.list>.item{display:block;width:80%;margin:0 10%}.tag-list>.list>.item>.url{width:100%;height:100%;display:block;padding:20px 0;text-decoration:none}.tag-list>.list>.item>.url>.title{margin:0;width:75%;font-weight:400;transition:all ease-in-out .2s;font-size:1.6rem}.tag-list>.list>.item:hover>.url>.title{color:#9300ff}.tag-list>.list aside{position:relative;top:2px;margin:0;width:25%;float:right;font-weight:300;color:#666;text-align:right;transition:all ease-in-out .2s;font-size:1.6rem}.tag-list>.list .item:hover .url aside{color:#aaa}.author{padding:3rem 0;border-bottom:1px solid #222;border-top:1px solid #222;max-width:100%;margin:4rem auto 0}.author>.toleft>.selfie{width:90%;border-radius:100%}.author>.toright>.name,.author>.toright>.bio{width:60%;display:inline-block}.author>.toright>.name{font-size:1.5rem;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:500;margin:6px 0 0}@media only screen and (max-width: 400px){.author>.toright>.name{width:100%;display:block}}@media only screen and (min-width: 400px) and (max-width: 1050px){.author>.toright>.name{width:100%;display:block}}.author>.toright>.bio{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:400;color:#666;font-size:1.3rem;text-align:justify;line-height:1.5;margin:0}@media only screen and (max-width: 400px){.author>.toright>.bio{width:100%;display:block}}@media only screen and (min-width: 400px) and (max-width: 1050px){.author>.toright>.bio{width:100%;display:block}}.author>.toleft{width:10%;display:inline-block}@media only screen and (max-width: 400px){.author>.toleft{width:20%}}@media only screen and (min-width: 400px) and (max-width: 1050px){.author>.toleft{width:20%}}.author>.toright{width:89%;display:inline-block;vertical-align:top}@media only screen and (max-width: 400px){.author>.toright{width:78%}}@media only screen and (min-width: 400px) and (max-width: 1050px){.author>.toright{width:78%}}.no-disqus{border-bottom:none;padding-bottom:0}.disqus{margin:0 auto;max-width:100%;padding:40px 0}.footer-main{border-top:1px solid #222;padding:40px 0;margin:40px 0 0;font-size:1.3rem;color:#666;font-weight:400;text-align:center;position:relative}.footer-main:before{display:block;content:" ";width:7px;height:7px;border:#222 1px solid;position:absolute;top:-5px;left:50%;margin-left:-5px;background:#000;box-shadow:#000 0 0 0 5px;border-radius:3px}.footer-main>.copyright{padding-left:10px}.footer-main>.link{display:inline;vertical-align:middle}.footer-main>.link>.icon{width:15px !important;fill:#666 !important;transition:ease-in-out all .3s;position:relative;display:inherit;top:-2px;margin:0;left:2px}.footer-main>.link>.icon:hover{fill:#9300ff !important}.footer-main>.extra{color:#666;margin-top:0;font-weight:400}.footer-main>.extra>.link{color:#ededed;text-decoration:none;border-bottom:1px solid transparent;transition:ease-in-out all .3s;padding-bottom:1px;font-weight:300}.footer-main>.extra>.link:hover{border-color:#666}.header-home{display:block;margin:0 auto;text-align:center;position:relative;z-index:99}.header-home>.link>.selfie{width:125px;height:125px;margin-bottom:25px;border-radius:100%;transition:all .2s;opacity:1}.header-home>.link>.selfie:hover{box-shadow:0 0px 4px 0 rgba(0,0,0,0.18),0 0px 12px 0 rgba(0,0,0,0.15);opacity:.8}.header-home>.title{font-size:4rem;margin:0 0 13px}.header-home>.description{font-size:1.85rem;font-weight:400;font-style:normal;color:#666;width:70%;margin:0 auto 30px}.header-home>.description a{font-weight:200}.nav>.list,.nav-home>.list{list-style:none;margin:0;padding:0 13px 0}.nav>.list>.item,.nav-home>.list>.item{display:inline-block}.nav>.list>.item>.link,.nav-home>.list>.item>.link{display:inline-block;font-weight:400;font-size:1.4rem;padding:20px 10px;text-decoration:none}.nav{position:absolute;right:0;top:0}.nav>.list{padding:0 13px 0}.nav>.list>.item>.link{font-size:1.4rem;padding:20px 10px}.nav-home{margin-top:40px;text-align:center}.nav-home>.list{padding:0}.nav-home>.list>.item>.link{font-size:2rem;padding:7px 15px;margin:0;border-radius:4%;transition:all .4s ease-in-out;width:70px}.nav-home>.list>.item>.link:hover{color:#aaa}.evidence{background-image:linear-gradient(to bottom, #1E2D24, #1E2D24);color:#ededed}.star>.url>.title{width:auto !important;display:inline;background-image:linear-gradient(#1E2D24, #1E2D24)}.twitter-tweet{margin:10px auto}.icon{display:inline-block;width:17px;height:17px;fill:#fff;text-align:center;color:#666;margin:7px auto}.caption{position:relative;top:1rem;left:0;right:0;margin:0 auto;width:100%;text-align:center;font-size:1.3rem;font-weight:400}.bigger-image{min-width:130%;margin:5rem 0 5rem -15%}@media only screen and (max-width: 400px){.bigger-image{min-width:114%;margin:2rem 0 2rem -7%}}@media only screen and (min-width: 400px) and (max-width: 1050px){.bigger-image{min-width:114%;margin:2rem 0 2rem -7%}}.breaker{height:1px;margin:6rem auto;width:100%}.breaker:before{content:"• • •";width:100%;text-align:center;display:block;color:#666;letter-spacing:4px;position:relative;top:-8px}.lost-container{text-align:center}.pagination{width:95%;margin:3rem auto 0;text-align:center}.pagination>.page_number{display:inline-block;font-size:1.3rem}.pagination>.previous,.pagination>.next{display:inline-block;font-size:1.8rem;position:relative;top:1px;padding:1px 9px}.pagination>.hidden{visibility:hidden}.related{margin:10rem 0 0rem}.related a{font-weight:400}.share{float:right;width:40%;display:inline;text-align:right;position:relative}@media only screen and (max-width: 400px){.share{width:100%;display:block;top:0;text-align:left;float:none;margin-top:5px}}@media only screen and (min-width: 400px) and (max-width: 1050px){.share{width:100%;display:block;top:0;text-align:left;float:none;margin-top:5px}}.share>.twitter,.share>.facebook,.share>.linkedin{display:inline;vertical-align:middle;font-size:13px;font-weight:700;color:#fff;padding:6px 10px;border-radius:3px;margin-left:5px;text-decoration:none}@media only screen and (max-width: 400px){.share>.twitter,.share>.facebook,.share>.linkedin{margin:0 5px 10px 0}}@media only screen and (min-width: 400px) and (max-width: 1050px){.share>.twitter,.share>.facebook,.share>.linkedin{margin:0 5px 10px 0}}.share>.twitter{background:#4fafed}.share>.facebook{background:#4361b3}.share>.linkedin{background:#0077b5}.share svg{fill:#000;position:relative;top:0;margin:0;margin-right:4px;display:inherit}@media only screen and (min-width: 780px){.side-by-side{width:130%;margin:6rem 0 6rem -15%}}@media only screen and (max-width: 780px){.side-by-side{width:100%;margin:4rem 0}}.side-by-side>.toleft,.side-by-side>.toright{display:inline-block;width:47.5%}@media only screen and (max-width: 780px){.side-by-side>.toleft img,.side-by-side>.toright img{text-align:center;display:block;margin:0 auto}}@media only screen and (min-width: 780px){.side-by-side>.toleft{margin-right:2%}}@media only screen and (max-width: 780px){.side-by-side>.toleft{width:100%;margin:0 0 4rem 0}}@media only screen and (min-width: 780px){.side-by-side>.toright{margin-left:2%;vertical-align:top}}@media only screen and (max-width: 780px){.side-by-side>.toright{width:100%;margin:0 0 4rem 0}}.side-by-side>.toleft>p,.side-by-side>.toright>p{margin:0 0 4rem 0}@media only screen and (max-width: 780px){.side-by-side>.toleft>p,.side-by-side>.toright>p{margin:0}}.social-links>.link{margin:0;text-decoration:none;position:relative;display:inline-block;height:35px;width:35px;color:#fff}.social-links>.link:hover>svg{color:#9300ff}.social-links>svg{transition:all ease-in-out .2s}.spoiler{position:relative}.spoiler:before{content:"";background-color:#fafae0;position:absolute;top:0;bottom:0;left:0;right:0;z-index:50}.spoiler:hover:before{display:none} </style> </head> <body> <div class="wrapper-large"> <div class="post"> <nav class="nav"> <ul class="list"> <li class="item"> <a class="link" href="https://stephan-lopes.github.io/">Home</a> </li> <li class="item"> <a class="link" href="https://stephan-lopes.github.io/blog">Blog</a> </li> <li class="item"> <a class="link" href="https://stephan-lopes.github.io/projects">Projects</a> </li> <li class="item"> <a class="link" href="https://stephan-lopes.github.io/about">About</a> </li> </ul> </nav> <h1 class="title">Assinatura de Commits com GPG</h1> <span class="date"> <time datetime="29-04-2022">Friday. April 29, 2022</time> - <span class="reading-time" title="Estimated read time"> 13 mins </span> </span> <div class="post-tags"> <a class="item" href="https://stephan-lopes.github.io/tags/#gpg">gpg</a> <a class="item" href="https://stephan-lopes.github.io/tags/#git">git</a> <a class="item" href="https://stephan-lopes.github.io/tags/#github">github</a> <a class="item" href="https://stephan-lopes.github.io/tags/#guia-rapido">guia-rapido</a> </div> <p><em>No Git, toda vez que é feito um commit, ele coleta seu usuário e seu e-mail, e anexa em um Commit. Entretanto, ele pode ser manipulado, e alguém pode se passar por você. Sendo assim, o ideal é assinar seus commits com chave GPG. Com ela, você consegue comprovar que você é você, para todos aqueles que possuem uma chave pública da chave privada que só você possuí. Este tutorial, é um guia de configuração, bem como a demonstração do problema em si, e em como resolvê-lo. Espero que gostem, e coloquem em prática as dicas!</em></p> <h2 id="_-o-problema-do-commit-sem-assinatura">&gt;_ O Problema do Commit Sem Assinatura</h2> <p>Em um ambiente de produção, o Commit sem assinatura é muito mais comum que o Commit com assinatura. Por isso, é importante que você configure o GPG para assinar seus commits. Essa, digamos, má pratica, abre brechas que podem ser exploradas, caso seus commits não sejam assinados. Vou mostrar um exemplo.</p> <p><img src="https://stephan-lopes.github.io/assets/images/assinatura-de-commits-com-gpg/5496900581142.png" alt="Imagem" /></p> <p>Quando adiciono um arquivo em um projeto e faço um <em>git commit</em>, o git não assina o commit por padrão. Dessa forma, ele acaba pegando a variável <strong>user.name</strong> e <strong>user.email</strong>, que são definidas com os seguintes comandos:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">git config <span class="nt">--global</span> user.name <span class="s2">"Seu Nome"</span>
git config <span class="nt">--global</span> user.email <span class="s2">"email@teste.com"</span></code></pre></figure> <p>Quando enviado por push, ele não valida se essas informações são verdadeiras ou não. Ou seja, quem vê dentro de um repositório, não sabe se realmente foi aquela pessoa que fez aquele commit.</p> <p>Pra demonstrar isso, vamos criar um arquivo, e fazer um commit com outro usuário e e-mail, usando o seguinte código para isso:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">git commit <span class="nt">--author</span><span class="o">=</span><span class="s2">"Mark Zuckerberg marquinho@teste.com"</span> <span class="nt">-m</span> <span class="s2">"Teste de commit"</span></code></pre></figure> <p>Após confirmarmos o Commit, temos esse resultado:</p> <p><img src="https://stephan-lopes.github.io/assets/images/assinatura-de-commits-com-gpg/6636094248085.png" alt="Imagem" /></p> <p>Talvez você diga: <em>“Mas Keven… Isso é em ambiente local, não vai acontecer nada se você colocar ele em um repositório do github.”</em></p> <p>Se pensou isso, sinto lhe dizer, mas está enganado. Olha o que acontece quando envio por push esses commits:</p> <p><img src="https://stephan-lopes.github.io/assets/images/assinatura-de-commits-com-gpg/9114529757421.png" alt="Imagem" /></p> <p>Preocupante, não? Mas calma, vamos resolver isso.</p> <h2 id="_-gerando-uma-chave-gpg">&gt;_ Gerando uma Chave GPG</h2> <p>O primeiro passo para conseguirmos assinar nossos commits, é gerar uma chave GPG. Tenha certeza de que a sua máquina tem o GPG instalado. Usaremos a <strong>versão 2.2.19</strong>, nesse tutorial, mas você pode usar qualquer versão (preferencialmente &gt;= 2).</p> <p>Para instalar, vamos usar o comando abaixo em um Ubuntu linux (em outro SO, como Windows ou Unix, sugiro procurar na documentação do github):</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>apt <span class="nb">install </span>gnupg</code></pre></figure> <p>Após a instalação, vamos criar uma chave GPG, utilizando o comando abaixo:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">gpg <span class="nt">--full-generate-key</span></code></pre></figure> <p>Após a execução do comando, ele irá realizar a geração de uma chave GPG. Selecione o tipo de chave (no tutorial usaremos a <strong>RSA and RSA</strong>), e dê enter.</p> <p>Feito isso, será perguntado o tamanho da chave em bits. Para uma maior segurança, usaremos o tamanho de <strong>4096 bits</strong>.</p> <p>Será então solicitado que informe o número de dias que a chave deve permanecer viva. Se você não informar nada, a chave ficará viva por 0 dias, ou seja, para sempre. No tutorial, usaremos uma chave com validade de <strong>0 dias</strong>. Nesse caso, quando é definido 0 dias, irá ser questionado se tem realmente certeza que quer criar uma chave com uma validade tão longa. <strong>Confirme e dê enter</strong>.</p> <p>Por fim, insira o <strong>nome</strong>, e o <strong>endereço de e-mail</strong> que deseja vincular a chave. O endereço de e-mail, pode ser de dois tipos:</p> <ul> <li>Um endereço de e-mail pessoal, registrado na sua conta do GitHub.</li> <li>Ou, o mais indicado, um endereço de e-mail no-reply, que é gerado pelo GitHub.</li> </ul> <p>Caso opte pela segunda opção, você pode entrar no site do GitHub e verificar este endereço de e-mail no-reply. Pra fazer isso, em seu <strong>Perfil</strong>, acesse <strong>Settings</strong>, posteriormente, acesse <strong>Emails</strong>, e por fim, marque a caixa onde está escrito <strong>Keep my email addresses private</strong>. Dentro dela, você pode obter esse endereço de e-mail no-reply.</p> <p><img src="https://stephan-lopes.github.io/assets/images/assinatura-de-commits-com-gpg/6096521027427.png" alt="Imagem" /></p> <p>Este endereço, dependendo de quando criou sua conta, pode mudar. Quem criou em 2017, pode ter um endereço de e-mail no-reply diferente, sem aqueles números antes do <strong>+</strong>. Essa é a forma mais indicada, para evitar que deixe exposto seu e-mail, publicamente. Em casos que deseja deixar exposto, a primeira opção será a mais ideal.</p> <p>No meu caso, o e-mail no-reply é <strong>40838038+stephan-lopes@users.noreply.github.com</strong>. Após informar o endereço de e-mail, você pode adicionar algum comentário, ou <strong>deixar em branco</strong>.</p> <p>Será então solicitado para confirmar. Para isso, digite a letra <strong>o</strong> e dê enter. Depois disso, você precisará informar a <strong>Passphrase</strong>, que seria como uma senha. Informe a <strong>Passphrase</strong> e dê enter. Use o mouse, ou o teclado, para que a chave seja gerada, e pronto! Ela foi gerada e agora está em seu ambiente!</p> <h2 id="_-colocando-a-chave-publica-na-conta-do-github">&gt;_ Colocando a Chave Publica na Conta do GitHub</h2> <p>Com a chave gerada, precisamos inserir ela no Github. Precisamos fazer isso, por que o GitHub precisa validar se a chave realmente é sua. Se não, nada impediria você também de gerar uma chave, como fizemos anteriormente, informando um e-mail, que não é seu, e, se passando por essa pessoa, fazer um commit.</p> <p>Vamos precisar da chave pública, então, utilize o comando abaixo:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">gpg <span class="nt">--list-secret-keys</span> <span class="nt">--keyid-format</span><span class="o">=</span>long</code></pre></figure> <p>Esse comando listará todas as chaves que estão armazenados no agent. Você precisará encontrar uma chave que tenha o <strong>keyid</strong> que você gerou. Esse <strong>keyid</strong>, seria o código de letras depois do <strong>rsa4096/</strong>, por exemplo.</p> <p><img src="https://stephan-lopes.github.io/assets/images/assinatura-de-commits-com-gpg/8207360680388.png" alt="Imagem" /></p> <p>Copie esse código, e execute o seguinte comando abaixo, para ter acesso a chave pública:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">gpg <span class="nt">--armor</span> <span class="nt">--export</span> FF79A185C539E72E</code></pre></figure> <p>Copie a chave pública, fornecida como saída do comando e acesse o GitHub. Na página de configuração da conta, na seção <strong>SSH and GPG Key</strong>, e depois, na seção <strong>GPG Key</strong>, clique em <strong>New GPG Key</strong>. <strong>Coloque a chave pública</strong>, e depois, clique em <strong>Add GPG Key</strong>. Forneça sua senha do GitHub para concluir.</p> <h2 id="_-configurando-endereço-de-e-mail-localmente">&gt;_ Configurando Endereço de E-mail Localmente</h2> <p>Agora que a chave foi inserida no GitHub, precisamos configurar o endereço de e-mail localmente. Lembra do endereço de e-mail no-reply que você gerou? Este endereço é o endereço que será usado aqui, e será atrelado aos seus commits.</p> <p>Para concluir, use o seguinte comando:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">git config <span class="nt">--global</span> user.email <span class="s2">"COLOQUE AQUI SEU ENDEREÇO DE EMAIL AQUI"</span></code></pre></figure> <p>Isso irá mudar globalmente. Se você quiser mudar apenas para o repositório atual, use o comando sem a opção <strong>–global</strong>.</p> <h2 id="_-configurando-assinatura-em-ambiente-local">&gt;_ Configurando Assinatura em Ambiente Local</h2> <p>Mesmo com todas essas configurações, a ferramenta git ainda não sabe que deve assinar todos os commits. Lembra do que eu disse no inicio, em que isso não é feito por padrão?</p> <p>Caso queira assinar um commit, até o momento, você teria que adicionar a flag <strong>-S</strong> no comando <em>git commit</em>.</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">git commit <span class="nt">-S</span> <span class="nt">-m</span> <span class="s2">"Mensagem de commit"</span></code></pre></figure> <p>Entretanto, essa forma é uma forma um pouco “custosa”. Isso, porque, a cada vez que precise fazer um commit, terá que lembrar de adicionar a Flag. Outro problema que podemos identificar também, é que não definimos para a ferramenta, qual chave ela deve utilizar. Imagine que tenhamos 10 chaves GPG. Como o git saberá qual chave deve ser usada?</p> <p>E os problemas não acabaram por ai… Como o GPG irá perguntar a palavra passe? Por padrão, ele não sabe para qual tty ele deve perguntar isso!</p> <p>Então, mesmo tentando fazer essa assinatura manualmente, você iria se deparar com o seguinte erro:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>git commit <span class="nt">-S</span> <span class="nt">-m</span> <span class="s2">"...."</span>
error: gpg failed to sign the data
fatal: failed to write commit object</code></pre></figure> <p>Precisamos resolver esses problemas. Vamos primeiro informar o git sobre qual a chave que deve ser utilizada. Busque o <strong>keyid</strong>, como feito anteriormente:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">gpg <span class="nt">--list-secret-keys</span> <span class="nt">--keyid-format</span><span class="o">=</span>long</code></pre></figure> <p>E depois, informe ele no seguinte comando (<em>Troque o FF79A185C539E72E pelo seu keyid.</em>):</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">git config <span class="nt">--global</span> user.signingkey FF79A185C539E72E</code></pre></figure> <p>Feito! Agora, todos os commits assinados que você fizer, serão assinados com a chave que você definiu!</p> <p>Entretanto, o git ainda não faz isso de forma automática. Ele ainda espera que você informe a flag <strong>-S</strong> no comando <em>git commit</em>. Para mudar isso, use o comando abaixo:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">git config <span class="nt">--global</span> commit.gpgsign <span class="nb">true</span></code></pre></figure> <p>Com isso, cada vez que executar um <em>git commit</em>, o git irá assinar o commit de forma automática, sem você precisar adicionar a flag <strong>-S</strong>.</p> <p>O último passo, é definir nosso TTY, para que o GPG possa perguntar a palavra passe. Caso contrário, teremos aquele erro na hora que formos assinar o commit, por não fornecermos a palavra passe. Execute o comando abaixo, em seu <strong>~/.bashrc</strong>:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">echo</span> <span class="s1">'export GPG_TTY=$(tty)'</span> <span class="o">&gt;&gt;</span> ~/.bashrc</code></pre></figure> <p>Caso esteja usando outro terminal que não seja o bash, use o arquivo apropriado para ele. Uma outra observação a ser feita, é em casos de uso com o zsh, utilizando fontes Powerlevel10k. Copie o export acima para o arquivo .zshrc, antes do Powerlevel. Caso contrário, isso não irá funcionar.</p> <p>Abra uma nova sessão, ou então, execute o comando abaixo no terminal, para que isso já se torne válido na sessão atual:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">source</span> ~/.bashrc</code></pre></figure> <p>Pronto! A partir de agora, todo o commit que enviar no git, será assinado com a chave que você definiu, de forma automática!</p> <h2 id="_-enviando-um-commit-para-o-github">&gt;_ Enviando um Commit para o GitHub</h2> <p>Vamos agora enviar um commit para o Github, para testar se tudo está funcionando corretamente. Pra isso, eu criei em meu repositório um novo arquivo, chamado <strong>teste-commit.txt</strong>, adicionei ele, executando o comando <em>git add</em>, e depois, executei o comando <em>git commit</em>. Por fim, fiz o <em>git push</em>.</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">git add teste-commit.txt
git commit <span class="nt">-m</span> <span class="s2">"Adicionando arquivo teste-commit.txt"</span>
git push origin main</code></pre></figure> <p>Quando fizer o <em>git commit</em>, será solicitado para colocar a palavra passe da chave GPG, para que possa ser assinado esse commit. Após realizar os comandos acima, temos este resultado:</p> <p><img src="https://stephan-lopes.github.io/assets/images/assinatura-de-commits-com-gpg/1311245618908.png" alt="Imagem" /></p> <p>Veja que com isso, temos um commit assinado! Podemos ver isso, com a badge de <strong>Verified</strong> nele. No caso de estar <strong>Unverified</strong>, semelhante com o que aparece abaixo, verifique seu commit, e veja se o nome de usuário, o email e a chave GPG estão corretos. Verifique também se colocou a chave GPG Pública corretamente no Github.</p> <p><img src="https://stephan-lopes.github.io/assets/images/assinatura-de-commits-com-gpg/2013428650008.png" alt="Imagem" /></p> <h2 id="_-definindo-cache-de-chaves-gpg">&gt;_ Definindo Cache de Chaves GPG</h2> <p>Embora tenhamos definido uma forma com que todos os commits sejam assinados, teremos que colocar a passphrase todas as vezes que fizermos um commit. Por mais que isso dê mais segurança, para algumas pessoas pode ser um problema, pois, a cada vez que fizermos um commit, o git irá pedir a passphrase.</p> <p>Podemos então, definir um cache, fazendo com que o agent armazene temporariamente a passphrase. No tutorial, iremos definir esse período em 1 hora, mas, como você poderá ver, podemos definir qualquer período.</p> <p>Para realizar essa tarefa, precisamos criar um arquivo chamado <strong>~/.gnupg/gpg-agent.conf</strong>. E dentro dele, definir o seguinte:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">default-cache-ttl 3600
max-cache-ttl 3600</code></pre></figure> <p>Por fim, reinicie o agent, com o seguinte comando:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">gpgconf <span class="nt">--kill</span> gpg-agent</code></pre></figure> <p>Dessa forma, ele irá armazenar a passphrase, depois de digitada, por uma hora. Após o prazo, o agent irá pedir a passphrase novamente.</p> <h2 id="_-assinando-commits-antigos">&gt;_ Assinando Commits Antigos</h2> <p>Mostramos como faz para assinar os novos Commits, mas, e caso queira assinar commits antigos, como podemos fazer isso?</p> <p>Uma forma que você pode fazer isso, é utilizando o comando <strong>git rebase</strong>. Com esse comando, ele irá assinar os commits não assinados. Lembre-se que o e-mail deve ser o mesmo da chave, sendo assim, em alguns casos, será necessário alterar o e-mail também.</p> <p>Abaixo, vamos fazer um rebase, para que o git assine os commits antigos e altere o e-mail, de todos os commits. Entretanto, o código abaixo serve como um exemplo pro tutorial, e não algo a ser seguido, até porque ele modifica todas as datas, não mantendo as datas antigas.</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash">git rebase <span class="nt">--exec</span> <span class="s1">'git commit --amend --author="stephan-lopes &lt;40838038+stephan-lopes@users.noreply.github.com&gt;" --no-edit -S -n'</span> <span class="nt">--root</span></code></pre></figure> <p>Com esse comando, ele irá modificar o autor do commit, e assinar ele. Talvez não seja a melhor forma de se fazer isso, para o seu caso. Estou apenas demonstrando que é possível fazer essa assinatura de commits anteriores.</p> <h2 id="_-bloquear-pushes-que-exponham-o-e-mail-público">&gt;_ Bloquear Pushes que exponham o e-mail público</h2> <p>Pode acontecer de você acabar em algum momento, definindo seu e-mail, e acabar esquecendo de mudar para o e-mail no-reply. Para evitar que faça um push e exponha ele, existe uma configuração no GitHub, que permite impedir isso.</p> <p>No seu perfil, acesse <strong>Settings</strong>, posteriormente, acesse <strong>Emails</strong>, e por fim, marque a caixa onde está escrito <strong>Block command line pushes that expose my email</strong>.</p> <p>Com isso, toda vez que você tentar enviar um push, expondo o seu endereço de e-mail público, será impedido.</p> <h2 id="_-modo-vigilante">&gt;_ Modo Vigilante</h2> <p>É possível adicionar o Modo Vigilante. Isso faz com que todos os seus commits, tanto os atuais, como os anteriores, mostrem se você é realmente você. Se o Commit não for assinado, ou está assinado, mas a assinatura é completamente diferente, o commit é definido como <strong>Unverified</strong>. Se o nome do Autor é diferente, mas o e-mail é igual, ele mostra <strong>Partially Verified</strong>. Se ele estiver com e-mail e usuário iguais o da assinatura, ele mostra <strong>Verified</strong>.</p> <p>Para ativar o modo vigilante, no seu perfil, acesse <strong>Settings</strong>, posteriormente, acesse <strong>SSH and GPG Keys</strong>, e por fim, na seção de <strong>Vigilant Mode</strong> marque a caixa onde está escrito <strong>Flag unsigned commits as unverified</strong>.</p> <h2 id="_-conclusão">&gt;_ Conclusão</h2> <p>Neste tutorial/artigo, quis demonstrar um pouco mais sobre o problema de não assinar seus commits, mostrar como assinar commits, e como fazer um rebase para assinar commits antigos, caso opte por isso. Além disso, foi ensinado um pouco sobre geração de chave GPG, como configurar cache das chaves, e uma forma de não expor seu e-mail pessoal, mas sim um gerado pelo Github, para ter maior segurança em seus commits.</p> <p>Também foi ensinado algumas formas de melhorar a identificação, utilizando o modo vigilante, e como impedir que seu endereço de e-mail seja exposto sem querer, em algum commit, quando usar o push. Espero que tenha gostado, e que esse artigo tenha sido útil. Caso você tenha ainda mais interesse em me ajudar, curta e compartilhe o artigo, além de interagir com sugestões, dúvidas, e comentários, na seção de comentários abaixo.</p> <div class="breaker"></div> <div class="blog-navigation"> <a class="prev" href="https://stephan-lopes.github.io/vagrant-kaspersky-download-de-imagens-sem-perder-a-seguran%C3%A7a/">&laquo; Vagrant + Kaspersky: Download de Imagens Sem Perder a Segurança</a> <a class="next" href="https://stephan-lopes.github.io/comandos-linux-a-linha-de-comando/">Comandos Linux: A linha de Comando &raquo;</a> </div> <div class="related"> <h4>Related Posts</h4> <ul> <li class="relatedPost"> <a href="https://stephan-lopes.github.io/vagrant-kaspersky-download-de-imagens-sem-perder-a-seguran%C3%A7a/">Vagrant + Kaspersky: Download de Imagens Sem Perder a Segurança </a> </li> <li class="relatedPost"> <a href="https://stephan-lopes.github.io/guia-rapido-wsl-virtualbox/">Guia Rápido: WSL + Virtualbox </a> </li> </ul> </div> <section class="author"> <div class="toleft"> <img class="selfie" src="https://stephan-lopes.github.io/assets/images/profile-pic.png" alt="Keven S. Lopes" /> </div> <div class="toright"> <h4 class="name">Keven S. Lopes</h4> <p class="bio">Só mais um garoto de TI, querendo aprender, e compartilhar conhecimento.</p> <div class="share"> <!-- Note: Only use three share links if your site width is set to large --> <!-- If site width is set to normal, you may choose any two share links --> <a class="twitter" href="https://twitter.com/intent/tweet?text=https://stephan-lopes.github.io/assinaturas-de-commits-com-gpg/ - Assinatura de Commits com GPG by @" > <i class="fa-brands fa-twitter"></i> <span class="icon-twitter">Tweet</span> </a> <a class="facebook" href="javascript:void(0)" onclick="window.open('https://facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href), 'facebook-share-dialog', 'width=626,height=436'); return false;" > <i class="fa-brands fa-facebook"></i> <span class="icon-facebook-rect">Share</span> </a> <!-- <a class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://stephan-lopes.github.io/assinaturas-de-commits-com-gpg/&amp;title=Assinatura de Commits com GPG&amp;summary=Como configurar o GPG para assinar commits do Github&amp;source=https://stephan-lopes.github.io" target="_blank"> <i class="fa-brands fa-linkedin"></i> <span class="icon-linkedin">Share</span> </a> --> </div> </div> </section> <footer class="footer-main"> K. © 2022 <a class="link" href="https://stephan-lopes.github.io/feed.xml" target="_blank"> <svg class="icon icon-rss"> <use xlink:href="#icon-rss"></use> </svg> </a> <p class="extra"> <a class="link" href="https://github.com/sergiokopplin/indigo">Indigo theme</a> by <a class="link" href="https://github.com/sergiokopplin/indigo">Kopplin</a> </p> </footer> </div> </div> </div> </div> </body> </html>
